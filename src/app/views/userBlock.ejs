<!-- <!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">

    <title>유저 제재</title>
  </head>
  <body>
    <%- include('nav.html') %>


    <form action="/admin/user/block" method="POST" id="blockForm">
        <div class="form-check">
          <input class="form-check-input" type="radio" name="blockDuration" id="seven" value="7" checked>
          <label class="form-check-label" for="seven">
            7일 정지
          </label>
        </div>
      
        <div class="form-check">
          <input class="form-check-input" type="radio" name="blockDuration" id="thirty" value="30">
          <label class="form-check-label" for="thirty">
            30일 정지
          </label>
        </div>
      
        <div class="form-check">
          <input class="form-check-input" type="radio" name="blockDuration" id="forever" value="0">
          <label class="form-check-label" for="forever">
            탈퇴
          </label>
        </div>
      
        <button type="submit">확인</button>
      </form>
      
     
      <script>
        document.getElementById("blockForm").addEventListener("submit", function (e) {
          e.preventDefault(); 
          const uri = window.location.href;
        
          const formData = new FormData(this); 
          const blockDuration = formData.get("blockDuration"); 
        
          fetch(uri, {
            method: "PUT",
            body: JSON.stringify({ blockDuration }), 
            headers: {
              "Content-Type": "application/json",
            },
          })
            .then((response) => {
              if (!response.ok) {
                throw new Error("서버 응답이 실패했습니다.");
              }
              return response.json();
            })
            .then((data) => {
              console.log("들어옴")
              if(data.code === 1000) {
                const redirectPath = '/admin/user/reports';
                window.location.href = redirectPath;
              }
            })
            .catch((error) => {
              console.error("에러:", error);
            });
        });
        </script>
      
    
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>

   
  </body>
</html> -->